{"version":3,"file":"assignsubmission_declaration_student_submit.min.js","sources":["../src/assignsubmission_declaration_student_submit.js"],"sourcesContent":["const changeHandler = (e) => {\n\n    let declarations = JSON.parse(document.getElementById('id_declarationjson').value);\n    let id = (e.target.id).split('_');\n    id = id[id.length - 1]; // The last position has the id.\n\n    declarations.forEach((dec) => {\n\n        if (dec.detail == id) {\n            if (e.target.checked) {\n                dec.selected = 1;\n            } else {\n                dec.selected = 0;\n            }\n        }\n    }, e);\n    document.getElementById('id_declarationjson').value = JSON.stringify(declarations);\n}\n\nconst removeRequiredWhenCancelled = function () {\n    document.querySelectorAll('[id^=id_declaration_checkbox_]').forEach((cbox) => {\n        cbox.removeAttribute('required');\n    });\n}\n\nconst initEventListener = function () {\n    document.querySelectorAll('[id^=id_declaration_checkbox_]').forEach((cbox) => {\n        cbox.addEventListener('change', changeHandler);\n    });\n\n    document.getElementById('id_cancel').addEventListener('click', removeRequiredWhenCancelled);\n}\n\nexport const init = () => {\n    initEventListener();\n\n};"],"names":["changeHandler","e","declarations","JSON","parse","document","getElementById","value","id","target","split","length","forEach","dec","detail","checked","selected","stringify","removeRequiredWhenCancelled","querySelectorAll","cbox","removeAttribute","addEventListener"],"mappings":"mMAAMA,cAAgB,SAACC,OAEfC,aAAeC,KAAKC,MAAMC,SAASC,eAAe,sBAAsBC,OACxEC,GAAMP,EAAEQ,OAAOD,GAAIE,MAAM,KAC7BF,GAAKA,GAAGA,GAAGG,OAAS,GAEpBT,aAAaU,SAAQ,SAACC,KAEdA,IAAIC,QAAUN,KACVP,EAAEQ,OAAOM,QACTF,IAAIG,SAAW,EAEfH,IAAIG,SAAW,KAGxBf,GACHI,SAASC,eAAe,sBAAsBC,MAAQJ,KAAKc,UAAUf,eAGnEgB,4BAA8B,WAChCb,SAASc,iBAAiB,kCAAkCP,SAAQ,SAACQ,MACjEA,KAAKC,gBAAgB,8BAYT,WAPhBhB,SAASc,iBAAiB,kCAAkCP,SAAQ,SAACQ,MACjEA,KAAKE,iBAAiB,SAAUtB,kBAGpCK,SAASC,eAAe,aAAagB,iBAAiB,QAASJ"}